!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}$=jQuery,function(){function e(r){r.click((function(r){r.preventDefault();var i=$('.repeater-fields[data-form-nr="1"]'),n=$(this).closest(".repeater-fields"),o=i.clone(),d=n.attr("data-form-nr"),s=parseInt(d)+1;if(n.closest(".b-wrapper").hasClass("repeater-fields-folded")){var c=n.closest(".b-wrapper").attr("data-group");return $('.b-wrapper[data-group="'+c+'"]').find('.form-check-wrapper[aria-required="true"]').attr("aria-required","false").find("input").prop("checked",!1),n.closest(".b-wrapper").removeClass("repeater-fields-folded"),n.find(".btn-remove").show(),n.find(".btn-add").hide(),!1}$(this).closest(".btn-wrapper").hide(),o.hide(),o.insertAfter(n),o.find(".btn-remove").show(),o.find(".btn-wrapper").show(),o.find(".e-counter").text(s),o.attr("data-form-nr",s),o.find(".chosen-container").remove(),o.find("label.error").remove(),o.find(".error").removeClass("error"),o.find("input").val(""),o.find("select").val(""),t(i,o,s),o.find("select").chosen(window.selectArgs),o.fadeIn(),e(o.find("a.btn-add")),a(o.find(".btn-remove"))}))}function t(e,t,a){e.find(".e-wrapper").map((function(e,r){var i=$(r).attr("data-name");if(void 0!==i&&i.length>0){var n="";n=null!==i.match(/\[/g)?(i=i.split("["))[0]+"_"+a+"["+i[1]:i+"_"+a;var o=$(t.find("div")[e+1]);o.attr("data-name",n),o.find("label").attr("for",n),o.find(".form-control").attr("name",n).attr("id",n),o.find("select").attr("name",n).attr("id",n)}}))}function a(e){e.click((function(){var e=$(this).closest(".repeater-fields");if("1"===e.attr("data-form-nr")){var a=e.closest(".b-wrapper").attr("data-group");return $('.b-wrapper[data-group="'+a+'"]').find('.form-check-wrapper[aria-required="false"]').attr("aria-required","true"),e.closest(".b-wrapper").addClass("repeater-fields-folded"),e.find(".btn-add").fadeIn(),!1}e.find(".btn-wrapper:visible").length>0?e.fadeOut().promise().done((function(){e.prev(".repeater-fields").find(".btn-wrapper").fadeIn(),$(this).remove()})):e.fadeOut().promise().done((function(){$(this).remove(),$(".repeater-fields").not('[data-form-nr="1"]').map((function(e,a){var r=e+2;$(a).attr("data-form-nr",r).find(".e-counter").hide().text(r).fadeIn(),t($('.repeater-fields[data-form-nr="1"]'),$(a),r)}))}))}))}$("document").ready((function(){e($(".repeater-fields a.btn-add")),a($(".btn-remove"))}))}(),window.growtype_form.conditions=[],$(".growtype-form .e-wrapper").each((function(e,t){if($(t).attr("data-conditions")&&$(t).attr("data-conditions").length>0){var a=JSON.parse($(t).attr("data-conditions")),r=$(t).attr("data-name");a.map((function(e,t){var a=e.name,i=e.condition,n=e.value;window.growtype_form.conditions[a]={condition:i,value:n,target:r}}))}})),$(document).ready((function(){"object"===e(window.growtype_form.conditions)&&$('.growtype-form input[type="checkbox"]').change((function(){var e=$(this).attr("name");void 0!==window.growtype_form.conditions[e]&&(window.growtype_form.conditions[e].value="checked")&&"visible"===window.growtype_form.conditions[e].condition&&($(this).is(":checked")?$('.e-wrapper[data-name="'+window.growtype_form.conditions[e].target+'"]').show():$('.e-wrapper[data-name="'+window.growtype_form.conditions[e].target+'"]').hide())}))})),$("document").ready((function(){if(function(){var e=!0;try{new DataTransfer}catch(t){e=!1}var t=$(".image-uploader-init");if(0===t.length)return;var a=t.attr("data-name"),r=void 0!==t.attr("data-extensions")?t.attr("data-extensions").split(","):"",i=t.attr("data-max-size"),n=t.attr("data-max-files"),o=t.attr("data-preload"),d=void 0!==t.attr("data-label")?t.attr("data-label"):"Drag & Drop files here or click to browse";e?void 0!==$.fn.imageUploader&&(t.addClass("image-uploader"),$(".image-uploader").each((function(){var e="undefined"!=typeof growtype_form_gallery&&o?growtype_form_gallery:[],t=[];if(Object.entries(e).length>0){var s=JSON.parse(e.images);Object.entries(s).length>0&&(t=s)}$(this).imageUploader({preloaded:t,imagesInputName:a,extensions:r,maxSize:i,maxFiles:n||1,label:d})}))):($('<input multiple type="file" class="upload-multifile with-preview" className="multi" name="'+a+'[]"/>').insertAfter(".image-uploader-init"),$(".upload-multifile").MultiFile({max:10,accept:r.join([separator=","]),max_size:i}))}(),$(".datepicker").length>0&&$(".datepicker").each((function(e,t){var a={dateFormat:growtype_form.date.date_format_iso};void 0!==$(t).attr("min-date")&&(a.minDate=$(t).attr("min-date")),$(t).datepicker(a)})),$(".timepicker").length>0&&$(".timepicker").timepicker(),$(".datetimepicker").length>0){var e=function(e,t){var a=Date.parse(t);try{if(isNaN(a))throw null;$.datepicker.parseDate(i,t)}catch(t){e.val("")}},t=new Date,a=t.getHours(),r=t.getMinutes(),i=growtype_form.date.date_format_iso,n=new Date;n.setDate(n.getDate()+1),n.toLocaleDateString(),$(".datetimepicker").datetimepicker({language:"en",defaultDate:t,dateFormat:i,numberOfMonths:1,hour:a,minute:r,minDate:n,onClose:function(t,a){if("_auction_dates_from"===$(this).attr("name")){var r=new Date(t);r.setDate(r.getDate()+1),r.toLocaleDateString(),$('.datetimepicker[name="_auction_dates_to"]').datetimepicker("option","minDate",r)}e($(this),t)},onSelectDate:function(t,a){e($(this),t)},onChangeDateTime:function(t,a){e($(this),t)}})}$(".autonumeric").length>0&&$(".autonumeric").autoNumeric("init",{unformatOnSubmit:!0,digitGroupSeparator:growtype_form.currency.digitGroupSeparator,decimalCharacter:growtype_form.currency.decimalCharacter,currencySymbol:growtype_form.currency.currencySymbol,currencySymbolPlacement:growtype_form.currency.currencySymbolPlacement,decimalPlacesOverride:growtype_form.currency.decimalPlacesOverride,showWarnings:!1,emptyInputBehavior:"press",minimumValue:0}),$(".e-wrapper .btn-img-remove").click((function(){var e=$(this).attr("data-type"),t=$(this).attr("data-id"),a=$(this).attr("data-class"),r=$(this).attr("data-name"),i=$(this).attr("data-accept"),n=$(this).attr("data-required"),o=$('<input type="'+e+'" id="'+t+'" class="'+a+'" name="'+r+'"  accept="'+i+'"  '+n+">");o.removeClass("has-value"),$(this).closest(".input-file-wrapper").hide(),$(this).closest(".e-wrapper").append(o),o.filestyle({buttonBefore:!0})})),$(".growtype-form-wrapper .input-file-wrapper input[type=file]").change((function(e){var t=$(this).attr("max-size"),a=$(this).attr("max-size-error-message");void 0!==t&&$(e.target.files).each((function(r,i){i.size>t&&(a.length>0?(a=a.replace(":image_name",i.name).replace(":max_size",t/1e6+"mb"),alert(a)):alert(i.name+" is too big! Max file size allowed - "+t/1e6+"mb"),e.target.value="")}));var r=$(this).attr("data-selected-placeholder-single"),i=$(this).attr("data-selected-placeholder-multiple"),n=e.target.files.length;if($(this).closest(".input-file-wrapper").find(".form-label-placeholder").removeClass("is-active").text($(this).attr("data-placeholder")),n>0&&(r.length>0||i.length>0)){var o=r.replace(":nr",n);n>1&&(o=i.replace(":nr",n)),$(this).closest(".input-file-wrapper").find(".form-label-placeholder").addClass("is-active").text(o)}}))}))}();
//# sourceMappingURL=growtype-form-render.js.map