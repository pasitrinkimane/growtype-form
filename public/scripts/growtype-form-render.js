!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}$=jQuery,$("document").ready((function(){if($(".growtype-form-container").on("change",'input[type="checkbox"]',(function(){var e=$(this).closest(".growtype-form");$(this).closest(".growtype-form-reset-other-checkboxes").length>0?e.find('input[type="checkbox"]').not(this).prop("checked",!1):e.find('.growtype-form-reset-other-checkboxes input[type="checkbox"]').prop("checked",!1)})),function(){function e(e,t,a){e.find(".e-wrapper").map((function(e,r){var i=$(r).attr("data-name");if(void 0!==i&&i.length>0){var n="";n=null!==i.match(/\[/g)?(i=i.split("["))[0]+"_"+a+"["+i[1]:i+"_"+a;var o=$(t.find("div")[e+1]);o.attr("data-name",n),o.find("label").attr("for",n),o.find(".form-control").attr("name",n).attr("id",n),o.find("select").attr("name",n).attr("id",n)}}))}function t(t){t.click((function(){var t=$(this).closest(".repeater-fields");if("1"===t.attr("data-form-nr")){var a=t.closest(".b-wrapper").attr("data-group");return $('.b-wrapper[data-group="'+a+'"]').find('.form-check-wrapper[aria-required="false"]').attr("aria-required","true"),t.closest(".b-wrapper").addClass("repeater-fields-folded"),t.find(".btn-add").fadeIn(),!1}t.find(".btn-wrapper:visible").length>0?t.fadeOut().promise().done((function(){t.prev(".repeater-fields").find(".btn-wrapper").fadeIn(),$(this).remove()})):t.fadeOut().promise().done((function(){$(this).remove(),$(".repeater-fields").not('[data-form-nr="1"]').map((function(t,a){var r=t+2;$(a).attr("data-form-nr",r).find(".e-counter").hide().text(r).fadeIn(),e($('.repeater-fields[data-form-nr="1"]'),$(a),r)}))}))}))}!function a(r){r.click((function(r){r.preventDefault();var i=$('.repeater-fields[data-form-nr="1"]'),n=$(this).closest(".repeater-fields"),o=i.clone(),d=n.attr("data-form-nr"),l=parseInt(d)+1;if(n.closest(".b-wrapper").hasClass("repeater-fields-folded")){var c=n.closest(".b-wrapper").attr("data-group");return $('.b-wrapper[data-group="'+c+'"]').find('.form-check-wrapper[aria-required="true"]').attr("aria-required","false").find("input").prop("checked",!1),n.closest(".b-wrapper").removeClass("repeater-fields-folded"),n.find(".btn-remove").show(),n.find(".btn-add").hide(),!1}$(this).closest(".btn-wrapper").hide(),o.hide(),o.insertAfter(n),o.find(".btn-remove").show(),o.find(".btn-wrapper").show(),o.find(".e-counter").text(l),o.attr("data-form-nr",l),o.find(".chosen-container").remove(),o.find("label.error").remove(),o.find(".error").removeClass("error"),o.find("input").val(""),o.find("select").val(""),e(i,o,l),o.find("select").chosen(window.selectArgs),o.fadeIn(),a(o.find("a.btn-add")),t(o.find(".btn-remove"))}))}($(".repeater-fields a.btn-add")),t($(".btn-remove"))}(),function(){function t(e){window.growtype_form.conditions.length>0&&(e.find("[data-conditions]").each((function(e,t){$(t).attr("data-conditions").length>0&&$(t).hide()})),window.growtype_form.conditions.map((function(t,a){var r=$('[name="'+t.name+'"]'),i=null===r.val()?"":r.val();"checkbox"===r.attr("type")&&r.is(":checked")&&(i="checked");var n=e.find('.b-wrapper[data-name="'+t.target+'"], .e-wrapper[data-name="'+t.target+'"]');if(i===t.value){var o=void 0!==n.find(".form-control").attr("required"),d=n.find(".form-label"),l=d.text(),c=n.attr("data-initial-label");window.growtype_form.conditions[a].initial_label||void 0===c||(o&&(c=c.replace("*",'<span class="required" aria-required="true">*</span>')),window.growtype_form.conditions[a].initial_label=c),"replace"===t.condition?(n.attr("data-initial-label",l),d.html(t.label+(o?'<span class="required" aria-required="true">*</span>':""))):window.growtype_form.conditions[a].initial_label&&d.html(window.growtype_form.conditions[a].initial_label),n.show()}})))}window.growtype_form.conditions=[],$(".growtype-form .e-wrapper, .growtype-form .b-wrapper").each((function(e,t){if($(t).attr("data-conditions")&&$(t).attr("data-conditions").length>0){var a=JSON.parse($(t).attr("data-conditions")),r=$(t).attr("data-name");Object.entries(a).map((function(e,t){var a,i,n={name:e[1].name,condition:null!==(a=e[1].condition)&&void 0!==a?a:"",value:e[1].value,target:r,label:null!==(i=e[1].label)&&void 0!==i?i:""};window.growtype_form.conditions.push(n)}))}})),"object"===e(window.growtype_form.conditions)&&($(".form-wrapper").each((function(e,a){t($(a))})),$(".growtype-form select").change((function(){var e=$(this).closest(".form-wrapper");t(e),e.find('input[type="checkbox"]:checked:hidden').length>0&&(e.find('input[type="checkbox"]:checked:hidden').each((function(e,t){$(t).prop("checked",!1)})),t(e))})),$('.growtype-form input[type="checkbox"]').change((function(){t($(this).closest(".form-wrapper"))})))}(),function(){var e=!0;try{new DataTransfer}catch(t){e=!1}var t=$(".image-uploader-init");if(0===t.length)return;t.each((function(t,a){var r=$(a),i=r.attr("data-name");i=(i=i||r.closest(".b-wrapper").attr("data-name")).replace("[]","");var n=void 0!==r.attr("data-extensions")?r.attr("data-extensions").split(","):"",o=r.attr("data-max-size"),d=r.attr("data-max-files"),l=r.attr("data-preload"),c=void 0!==r.attr("data-label")?r.attr("data-label"):"Drag & Drop files here or click to browse",s=void 0!==r.attr("data-capture")?r.attr("data-capture"):"",p=void 0!==r.attr("data-mimes")?r.attr("data-mimes"):"";if(e){if(void 0!==$.fn.imageUploader){r.addClass("image-uploader");var f=void 0!==window.growtype_form_image_uploaders&&l?window.growtype_form_image_uploaders:[],m=[],u={imagesInputName:i,extensions:n,maxSize:o,maxFiles:d||1,label:c};if(Object.entries(f).length>0){var h=JSON.parse(f.content);h[i]&&Object.entries(h[i]).length>0&&(m=h[i]),u.preloaded=m,u.preloadedInputName=f.old_images_prefix+"_"+i}s&&(u.capture=s),p&&(u.mimes=p),r.imageUploader(u),r.find(".upload-text span:first").html(r.find(".upload-text span:first").text())}}else $('<input multiple type="file" class="upload-multifile with-preview" className="multi" name="'+i+'[]"/>').insertAfter(r),r.MultiFile({max:10,accept:n.join(","),max_size:o})}))}(),$(".datepicker").length>0&&$(".datepicker").each((function(e,t){var a={dateFormat:growtype_form.date.date_format_iso};void 0!==$(t).attr("min-date")&&(a.minDate=$(t).attr("min-date")),$(t).datepicker(a)})),$(".timepicker").length>0&&$(".timepicker").timepicker(),$(".datetimepicker").length>0){var t=function(e,t){var a=Date.parse(t);try{if(isNaN(a))throw null;$.datepicker.parseDate(n,t)}catch(t){e.val("")}},a=new Date,r=a.getHours(),i=a.getMinutes(),n=growtype_form.date.date_format_iso,o=new Date;o.setDate(o.getDate()+1),o.toLocaleDateString(),$(".datetimepicker").datetimepicker({language:"en",defaultDate:a,dateFormat:n,numberOfMonths:1,hour:r,minute:i,minDate:o,onClose:function(e,a){if("_auction_dates_from"===$(this).attr("name")){var r=new Date(e);r.setDate(r.getDate()+1),r.toLocaleDateString(),$('.datetimepicker[name="_auction_dates_to"]').datetimepicker("option","minDate",r)}t($(this),e)},onSelectDate:function(e,a){t($(this),e)},onChangeDateTime:function(e,a){t($(this),e)}})}$(".autonumeric").length>0&&$(".autonumeric").autoNumeric("init",{unformatOnSubmit:!0,digitGroupSeparator:growtype_form.currency.digitGroupSeparator,decimalCharacter:growtype_form.currency.decimalCharacter,currencySymbol:growtype_form.currency.currencySymbol,currencySymbolPlacement:growtype_form.currency.currencySymbolPlacement,decimalPlacesOverride:growtype_form.currency.decimalPlacesOverride,showWarnings:!1,emptyInputBehavior:"press",minimumValue:0}),$('.growtype-form .input-file-wrapper input[type="file"]').filestyle({buttonBefore:!0}),$(".growtype-form .e-wrapper .btn-img-remove").click((function(){var e=$(this).attr("data-type"),t=$(this).attr("data-id"),a=$(this).attr("data-class"),r=$(this).attr("data-name"),i=$(this).attr("data-accept"),n=$(this).attr("data-required"),o=$('<input type="'+e+'" id="'+t+'" class="'+a+'" name="'+r+'"  accept="'+i+'">');n&&o.prop("required",!0),o.removeClass("has-value"),$(this).closest(".input-file-wrapper").hide(),$(this).closest(".e-wrapper").append(o),o.filestyle({buttonBefore:!0})})),$(".growtype-form-wrapper .input-file-wrapper input[type=file]").change((function(e){var t=$(this).attr("max-size"),a=$(this).attr("max-size-error-message");void 0!==t&&$(e.target.files).each((function(r,i){i.size>t&&(a.length>0?(a=a.replace(":image_name",i.name).replace(":max_size",t/1e6+"mb"),alert(a)):alert(i.name+" is too big! Max file size allowed - "+t/1e6+"mb"),e.target.value="")}));var r=$(this).attr("data-selected-placeholder-single"),i=$(this).attr("data-selected-placeholder-multiple"),n=e.target.files.length;if($(this).closest(".input-file-wrapper").find(".form-label-placeholder").removeClass("is-active").text($(this).attr("data-placeholder")),n>0&&(r.length>0||i.length>0)){var o=r.replace(":nr",n);n>1&&(o=i.replace(":nr",n)),$(this).closest(".input-file-wrapper").find(".form-label-placeholder").addClass("is-active").text(o)}}))})),document.addEventListener("growtypeQuizValidateQuestion",(function(e){$(e.detail.currentQuestion).find(".growtype-form-fields .b-wrapper").each((function(e,t){$(t).find("div[data-required]")&&"true"===$(t).find("div[data-required]").attr("data-required")&&($(t).find(".image-uploader-inner").hasClass("has-files")||($(t).addClass("anim-wrong-selection"),setTimeout((function(){$(t).removeClass("anim-wrong-selection")}),500),window.growtype_quiz_global.is_valid=!1))}))}))}();
//# sourceMappingURL=growtype-form-render.js.map