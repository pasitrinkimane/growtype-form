{"version":3,"file":"/scripts/growtype-form-render.js","mappings":"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","sources":["webpack://sage/./resources/scripts/growtype-form-render.js","webpack://sage/./resources/scripts/partials/actions/repeater.js","webpack://sage/./resources/scripts/partials/actions/conditions.js"],"sourcesContent":["$ = jQuery;\n\n/**\n * Group Repeater\n */\nimport {repeater} from \"./partials/actions/repeater\";\n\nrepeater();\n\n/**\n * Conditions\n */\nimport {conditions} from \"./partials/actions/conditions\";\n\nconditions();\n\n/**\n * General\n */\n$('document').ready(function () {\n\n    /**\n     * Image uploader\n     */\n    setupImageUploader();\n\n    /**\n     * Set date\n     */\n    if ($(\".datepicker\").length > 0) {\n        $(\".datepicker\").each(function (index, element) {\n            let options = {\n                dateFormat: growtype_form.date.date_format_iso\n            };\n\n            if ($(element).attr('min-date') !== undefined) {\n                options.minDate = $(element).attr('min-date');\n            }\n\n            $(element).datepicker(options);\n        });\n    }\n\n    /**\n     * Set time\n     */\n    if ($(\".timepicker\").length > 0) {\n        $('.timepicker').timepicker();\n    }\n\n    /**\n     * Set date and time pickers\n     */\n    if ($(\".datetimepicker\").length > 0) {\n        const date = new Date();\n        let hour = date.getHours();\n        let minute = date.getMinutes();\n\n        let dateFormat = growtype_form.date.date_format;\n\n        function validateValue($this, dateText) {\n            let parsedValue = Date.parse(dateText);\n            try {\n                if (isNaN(parsedValue)) {\n                    throw null;\n                }\n                $.datepicker.parseDate(dateFormat, dateText);\n            } catch (e) {\n                $this.val('')\n            }\n        }\n\n        let startDateMinDate = new Date();\n        startDateMinDate.setDate(startDateMinDate.getDate() + 1);\n        startDateMinDate.toLocaleDateString();\n\n        $('.datetimepicker').datetimepicker({\n            language: 'en',\n            defaultDate: date,\n            dateFormat: dateFormat,\n            numberOfMonths: 1,\n            hour: hour,\n            minute: minute,\n            minDate: startDateMinDate,\n            onClose: function (dateText, inst) {\n                if ($(this).attr('name') === '_auction_dates_from') {\n                    let endDateMinDate = new Date(dateText);\n                    endDateMinDate.setDate(endDateMinDate.getDate() + 1);\n                    endDateMinDate.toLocaleDateString();\n                    $('.datetimepicker[name=\"_auction_dates_to\"]').datetimepicker(\"option\", \"minDate\", endDateMinDate);\n                }\n                validateValue($(this), dateText)\n            },\n            onSelectDate: function (dateText, inst) {\n                validateValue($(this), dateText)\n            },\n            onChangeDateTime: function (dateText, inst) {\n                validateValue($(this), dateText)\n            }\n        });\n    }\n\n    /**\n     * Autonumeric\n     */\n    if ($(\".autonumeric\").length > 0) {\n        $('.autonumeric').autoNumeric('init', {\n            unformatOnSubmit: true,\n            digitGroupSeparator: growtype_form.currency.digitGroupSeparator,\n            decimalCharacter: growtype_form.currency.decimalCharacter,\n            currencySymbol: growtype_form.currency.currencySymbol,\n            currencySymbolPlacement: growtype_form.currency.currencySymbolPlacement,\n            decimalPlacesOverride: growtype_form.currency.decimalPlacesOverride,\n            showWarnings: false,\n            emptyInputBehavior: 'press',\n            minimumValue: 0\n        });\n    }\n\n    /**\n     * Img remove\n     */\n    $('.e-wrapper .btn-img-remove').click(function () {\n        let inputType = $(this).attr('data-type');\n        let inputId = $(this).attr('data-id');\n        let inputClass = $(this).attr('data-class');\n        let inputName = $(this).attr('data-name');\n        let inputAccept = $(this).attr('data-accept');\n        let inputRequired = $(this).attr('data-required');\n        let newInput = $('<input type=\"' + inputType + '\" id=\"' + inputId + '\" class=\"' + inputClass + '\" name=\"' + inputName + '\"  accept=\"' + inputAccept + '\"  ' + inputRequired + '>');\n\n        newInput.removeClass('has-value');\n\n        $(this).closest('.input-file-wrapper').hide();\n        $(this).closest('.e-wrapper')\n            .append(newInput);\n\n        newInput.filestyle({buttonBefore: true})\n    });\n\n    /**\n     * General file input\n     */\n    $('.growtype-form-wrapper .input-file-wrapper input[type=file]').change(function (e) {\n        let maxFileSize = $(this).attr('max-size');\n        let maxSizeErrorMessage = $(this).attr('max-size-error-message');\n        if (maxFileSize !== undefined) {\n            $(e.target.files).each(function (index, element) {\n                if (element.size > maxFileSize) {\n                    if (maxSizeErrorMessage.length > 0) {\n                        maxSizeErrorMessage = maxSizeErrorMessage.replace(':image_name', element.name).replace(':max_size', (maxFileSize / 1000000) + 'mb')\n                        alert(maxSizeErrorMessage)\n                    } else {\n                        alert(element.name + \" is too big! Max file size allowed - \" + (maxFileSize / 1000000) + 'mb')\n                    }\n                    e.target.value = \"\";\n                }\n            });\n        }\n\n        let selectedPlaceholderSingle = $(this).attr('data-selected-placeholder-single');\n        let selectedPlaceholderMultiple = $(this).attr('data-selected-placeholder-multiple');\n        let filesAmount = e.target.files.length;\n\n        $(this).closest('.input-file-wrapper')\n            .find('.form-label-placeholder')\n            .removeClass('is-active')\n            .text($(this).attr('data-placeholder'))\n\n        if (filesAmount > 0 && (selectedPlaceholderSingle.length > 0 || selectedPlaceholderMultiple.length > 0)) {\n\n            let selectedPlaceholder = selectedPlaceholderSingle.replace(':nr', filesAmount)\n\n            if (filesAmount > 1) {\n                selectedPlaceholder = selectedPlaceholderMultiple.replace(':nr', filesAmount)\n            }\n\n            $(this).closest('.input-file-wrapper')\n                .find('.form-label-placeholder')\n                .addClass('is-active')\n                .text(selectedPlaceholder)\n        }\n    });\n});\n\n\nfunction setupImageUploader() {\n    /**\n     * Image uploader setup\n     */\n    let defaultGallerySupported = true;\n\n    try {\n        let dataTransfer = new DataTransfer();\n    } catch (err) {\n        defaultGallerySupported = false;\n    }\n\n    let imageUploaderInitial = $('.image-uploader-init');\n\n    if (imageUploaderInitial.length === 0) {\n        return;\n    }\n\n    let imageUploaderInitialName = imageUploaderInitial.attr('data-name');\n    let imageUploaderInitialExtension = imageUploaderInitial.attr('data-extensions') !== undefined ? imageUploaderInitial.attr('data-extensions').split(\",\") : '';\n    let imageUploaderInitialMaxSize = imageUploaderInitial.attr('data-max-size');\n    let imageUploaderInitialMaxFiles = imageUploaderInitial.attr('data-max-files');\n    let imageUploaderPreload = imageUploaderInitial.attr('data-preload');\n    let imageUploaderLabel = imageUploaderInitial.attr('data-label') !== undefined ? imageUploaderInitial.attr('data-label') : 'Drag & Drop files here or click to browse';\n\n    if (defaultGallerySupported) {\n        if (typeof $.fn.imageUploader !== 'undefined') {\n            imageUploaderInitial.addClass('image-uploader');\n\n            $('.image-uploader').each(function () {\n                let image_upload_data = typeof (growtype_form_image_preload_data) !== 'undefined' && imageUploaderPreload ? growtype_form_image_preload_data : [];\n                let preloaded = [];\n\n                if (Object.entries(image_upload_data).length > 0) {\n                    let preloaded_data = JSON.parse(image_upload_data.preloaded);\n\n                    if (Object.entries(preloaded_data).length > 0) {\n                        preloaded = preloaded_data;\n                    }\n                }\n\n                $(this).imageUploader({\n                    preloaded: preloaded,\n                    imagesInputName: imageUploaderInitialName,\n                    extensions: imageUploaderInitialExtension,\n                    maxSize: imageUploaderInitialMaxSize,\n                    maxFiles: imageUploaderInitialMaxFiles ? imageUploaderInitialMaxFiles : 1,\n                    label: imageUploaderLabel,\n                });\n            });\n        }\n    } else {\n        $('<input multiple type=\"file\" class=\"upload-multifile with-preview\" className=\"multi\" name=\"' + imageUploaderInitialName + '[]\"/>').insertAfter('.image-uploader-init');\n\n        $('.upload-multifile').MultiFile({\n            max: 10,\n            accept: imageUploaderInitialExtension.join([separator = ',']),\n            max_size: imageUploaderInitialMaxSize,\n        });\n    }\n}\n","function repeater() {\n    /**\n     * @param $duplicateBtn\n     */\n    function cloneReapeaterForm($duplicateBtn) {\n        $duplicateBtn.click(function (e) {\n            e.preventDefault();\n\n            let initialRepeaterForm = $('.repeater-fields[data-form-nr=\"1\"]');\n            let repeaterForm = $(this).closest('.repeater-fields');\n            let repeaterFormClone = initialRepeaterForm.clone();\n            let formNr = repeaterForm.attr('data-form-nr');\n            let newFormNr = parseInt(formNr) + 1;\n\n            if (repeaterForm.closest('.b-wrapper').hasClass('repeater-fields-folded')) {\n                /**\n                 * Remove closest form group validation\n                 */\n                let blockName = repeaterForm.closest('.b-wrapper').attr('data-group');\n                $('.b-wrapper[data-group=\"' + blockName + '\"]')\n                    .find('.form-check-wrapper[aria-required=\"true\"]')\n                    .attr('aria-required', 'false')\n                    .find('input').prop('checked', false);\n\n                repeaterForm.closest('.b-wrapper').removeClass('repeater-fields-folded');\n                repeaterForm.find('.btn-remove').show();\n                repeaterForm.find('.btn-add').hide();\n                return false;\n            }\n\n            /**\n             * Hide duplicate btn in previous form\n             */\n            $(this).closest('.btn-wrapper').hide();\n\n            repeaterFormClone.hide();\n            repeaterFormClone.insertAfter(repeaterForm)\n            repeaterFormClone.find('.btn-remove').show();\n            repeaterFormClone.find('.btn-wrapper').show();\n            repeaterFormClone.find('.e-counter').text(newFormNr);\n            repeaterFormClone.attr('data-form-nr', newFormNr);\n\n            /**\n             * Reset cloned form\n             */\n            repeaterFormClone.find('.chosen-container').remove();\n            repeaterFormClone.find('label.error').remove();\n            repeaterFormClone.find('.error').removeClass('error');\n            repeaterFormClone.find('input').val('');\n            repeaterFormClone.find('select').val('');\n\n            /**\n             * Rename cloned form\n             */\n            renameClonedForm(initialRepeaterForm, repeaterFormClone, newFormNr);\n\n            /**\n             *\n             */\n            repeaterFormClone.find('select').chosen(window.selectArgs);\n\n            /**\n             * Show cloned form\n             */\n            repeaterFormClone.fadeIn();\n\n            /**\n             * Reinitiate method\n             */\n            cloneReapeaterForm(repeaterFormClone.find('a.btn-add'));\n            removeRepeaterForm(repeaterFormClone.find('.btn-remove'));\n        });\n    }\n\n    /**\n     *\n     * @param repeaterFormClone\n     * @param newFormNr\n     */\n    function renameClonedForm(initialRepeaterForm, repeaterFormClone, newFormNr) {\n        initialRepeaterForm.find('.e-wrapper').map(function (index, element) {\n            let groupName = $(element).attr('data-name');\n            if (typeof groupName !== 'undefined' && groupName.length > 0) {\n                let newName = '';\n                if (groupName.match(/\\[/g) !== null) {\n                    groupName = groupName.split(\"[\")\n                    newName = groupName[0] + '_' + newFormNr + '[' + groupName[1];\n                } else {\n                    newName = groupName + '_' + newFormNr;\n                }\n\n                let field = $(repeaterFormClone.find('div')[index + 1]);\n                field.attr('data-name', newName);\n                field.find('label').attr('for', newName)\n                field.find('.form-control')\n                    .attr('name', newName)\n                    .attr('id', newName)\n                field.find('select')\n                    .attr('name', newName)\n                    .attr('id', newName)\n            }\n        });\n    }\n\n    /**\n     *\n     */\n    function removeRepeaterForm(removeBtn) {\n        removeBtn.click(function () {\n            let repeaterForm = $(this).closest('.repeater-fields');\n\n            if (repeaterForm.attr('data-form-nr') === '1') {\n                /**\n                 * Add closest form group validation\n                 */\n                let blockName = repeaterForm.closest('.b-wrapper').attr('data-group');\n                $('.b-wrapper[data-group=\"' + blockName + '\"]').find('.form-check-wrapper[aria-required=\"false\"]').attr('aria-required', 'true');\n\n                repeaterForm.closest('.b-wrapper').addClass('repeater-fields-folded');\n                repeaterForm.find('.btn-add').fadeIn();\n                return false;\n            }\n\n            if (repeaterForm.find('.btn-wrapper:visible').length > 0) {\n                repeaterForm.fadeOut().promise().done(function () {\n                    repeaterForm.prev('.repeater-fields').find('.btn-wrapper').fadeIn();\n                    $(this).remove();\n                })\n            } else {\n                repeaterForm.fadeOut().promise().done(function () {\n                    $(this).remove();\n                    $('.repeater-fields').not('[data-form-nr=\"1\"]').map(function (index, element) {\n                        let formNr = index + 2;\n                        $(element).attr('data-form-nr', formNr)\n                            .find('.e-counter')\n                            .hide()\n                            .text(formNr)\n                            .fadeIn();\n                        renameClonedForm($('.repeater-fields[data-form-nr=\"1\"]'), $(element), formNr);\n                    });\n                });\n            }\n        });\n    }\n\n    $('document').ready(function () {\n        cloneReapeaterForm($('.repeater-fields a.btn-add'));\n        removeRepeaterForm($('.btn-remove'));\n    });\n}\n\nexport {repeater};\n","function conditions() {\n    window.growtype_form.conditions = [];\n    $('.growtype-form .e-wrapper').each(function (index, element) {\n        if ($(element).attr('data-conditions') && $(element).attr('data-conditions').length > 0) {\n            let conditions = JSON.parse($(element).attr('data-conditions'));\n            let target = $(element).attr('data-name');\n\n            conditions.map(function (element, index) {\n                let name = element['name'];\n                let condition = element['condition'];\n                let value = element['value'];\n                window.growtype_form.conditions[name] = {\n                    'condition': condition,\n                    'value': value,\n                    'target': target,\n                }\n            })\n        }\n    });\n\n    $(document).ready(function () {\n        if (typeof window.growtype_form.conditions === 'object') {\n            $('.growtype-form input[type=\"checkbox\"]').change(function () {\n                let name = $(this).attr('name');\n\n                if (window.growtype_form.conditions[name] !== undefined) {\n                    if (window.growtype_form.conditions[name]['value'] = 'checked') {\n                        if (window.growtype_form.conditions[name]['condition'] === 'visible') {\n                            if ($(this).is(':checked')) {\n                                $('.e-wrapper[data-name=\"' + window.growtype_form.conditions[name]['target'] + '\"]').show();\n                            } else {\n                                $('.e-wrapper[data-name=\"' + window.growtype_form.conditions[name]['target'] + '\"]').hide();\n                            }\n                        }\n                    }\n                }\n            })\n        }\n    });\n}\n\nexport {conditions};\n"],"names":["$","jQuery","cloneReapeaterForm","$duplicateBtn","click","e","preventDefault","initialRepeaterForm","repeaterForm","this","closest","repeaterFormClone","clone","formNr","attr","newFormNr","parseInt","hasClass","blockName","find","prop","removeClass","show","hide","insertAfter","text","remove","val","renameClonedForm","chosen","window","selectArgs","fadeIn","removeRepeaterForm","map","index","element","groupName","length","newName","match","split","field","removeBtn","addClass","fadeOut","promise","done","prev","not","ready","repeater","growtype_form","conditions","each","JSON","parse","target","name","condition","value","document","change","undefined","is","defaultGallerySupported","DataTransfer","err","imageUploaderInitial","imageUploaderInitialName","imageUploaderInitialExtension","imageUploaderInitialMaxSize","imageUploaderInitialMaxFiles","imageUploaderPreload","imageUploaderLabel","fn","imageUploader","image_upload_data","growtype_form_image_preload_data","preloaded","Object","entries","preloaded_data","imagesInputName","extensions","maxSize","maxFiles","label","MultiFile","max","accept","join","separator","max_size","setupImageUploader","options","dateFormat","date","date_format_iso","minDate","datepicker","timepicker","validateValue","$this","dateText","parsedValue","Date","isNaN","parseDate","hour","getHours","minute","getMinutes","date_format","startDateMinDate","setDate","getDate","toLocaleDateString","datetimepicker","language","defaultDate","numberOfMonths","onClose","inst","endDateMinDate","onSelectDate","onChangeDateTime","autoNumeric","unformatOnSubmit","digitGroupSeparator","currency","decimalCharacter","currencySymbol","currencySymbolPlacement","decimalPlacesOverride","showWarnings","emptyInputBehavior","minimumValue","inputType","inputId","inputClass","inputName","inputAccept","inputRequired","newInput","append","filestyle","buttonBefore","maxFileSize","maxSizeErrorMessage","files","size","replace","alert","selectedPlaceholderSingle","selectedPlaceholderMultiple","filesAmount","selectedPlaceholder"],"sourceRoot":""}