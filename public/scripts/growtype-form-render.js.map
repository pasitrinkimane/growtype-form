{"version":3,"file":"/scripts/growtype-form-render.js","mappings":"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","sources":["webpack://sage/./resources/scripts/growtype-form-render.js","webpack://sage/./resources/scripts/partials/actions/repeater.js","webpack://sage/./resources/scripts/partials/actions/conditions.js"],"sourcesContent":["$ = jQuery;\n\n/**\n * Group Repeater\n */\nimport {repeater} from \"./partials/actions/repeater\";\n\n/**\n * Conditions\n */\nimport {conditions} from \"./partials/actions/conditions\";\n\n/**\n * General\n */\n$('document').ready(function () {\n\n    /**\n     * Set repeater\n     */\n    repeater();\n\n    /**\n     * Set conditions\n     */\n    conditions();\n\n    /**\n     * Image uploader\n     */\n    setupImageUploader();\n\n    /**\n     * Set date\n     */\n    if ($(\".datepicker\").length > 0) {\n        $(\".datepicker\").each(function (index, element) {\n            let options = {\n                dateFormat: growtype_form.date.date_format_iso\n            };\n\n            if ($(element).attr('min-date') !== undefined) {\n                options.minDate = $(element).attr('min-date');\n            }\n\n            $(element).datepicker(options);\n        });\n    }\n\n    /**\n     * Set time\n     */\n    if ($(\".timepicker\").length > 0) {\n        $('.timepicker').timepicker();\n    }\n\n    /**\n     * Set date and time pickers\n     */\n    if ($(\".datetimepicker\").length > 0) {\n        const date = new Date();\n        let hour = date.getHours();\n        let minute = date.getMinutes();\n\n        let dateFormat = growtype_form.date.date_format_iso;\n\n        function validateValue($this, dateText) {\n            let parsedValue = Date.parse(dateText);\n            try {\n                if (isNaN(parsedValue)) {\n                    throw null;\n                }\n                $.datepicker.parseDate(dateFormat, dateText);\n            } catch (e) {\n                $this.val('')\n            }\n        }\n\n        let startDateMinDate = new Date();\n        startDateMinDate.setDate(startDateMinDate.getDate() + 1);\n        startDateMinDate.toLocaleDateString();\n\n        $('.datetimepicker').datetimepicker({\n            language: 'en',\n            defaultDate: date,\n            dateFormat: dateFormat,\n            numberOfMonths: 1,\n            hour: hour,\n            minute: minute,\n            minDate: startDateMinDate,\n            onClose: function (dateText, inst) {\n                if ($(this).attr('name') === '_auction_dates_from') {\n                    let endDateMinDate = new Date(dateText);\n                    endDateMinDate.setDate(endDateMinDate.getDate() + 1);\n                    endDateMinDate.toLocaleDateString();\n                    $('.datetimepicker[name=\"_auction_dates_to\"]').datetimepicker(\"option\", \"minDate\", endDateMinDate);\n                }\n                validateValue($(this), dateText)\n            },\n            onSelectDate: function (dateText, inst) {\n                validateValue($(this), dateText)\n            },\n            onChangeDateTime: function (dateText, inst) {\n                validateValue($(this), dateText)\n            }\n        });\n    }\n\n    /**\n     * Autonumeric\n     */\n    if ($(\".autonumeric\").length > 0) {\n        $('.autonumeric').autoNumeric('init', {\n            unformatOnSubmit: true,\n            digitGroupSeparator: growtype_form.currency.digitGroupSeparator,\n            decimalCharacter: growtype_form.currency.decimalCharacter,\n            currencySymbol: growtype_form.currency.currencySymbol,\n            currencySymbolPlacement: growtype_form.currency.currencySymbolPlacement,\n            decimalPlacesOverride: growtype_form.currency.decimalPlacesOverride,\n            showWarnings: false,\n            emptyInputBehavior: 'press',\n            minimumValue: 0\n        });\n    }\n\n    /**\n     * Img remove\n     */\n    $('.e-wrapper .btn-img-remove').click(function () {\n        let inputType = $(this).attr('data-type');\n        let inputId = $(this).attr('data-id');\n        let inputClass = $(this).attr('data-class');\n        let inputName = $(this).attr('data-name');\n        let inputAccept = $(this).attr('data-accept');\n        let inputRequired = $(this).attr('data-required');\n        let newInput = $('<input type=\"' + inputType + '\" id=\"' + inputId + '\" class=\"' + inputClass + '\" name=\"' + inputName + '\"  accept=\"' + inputAccept + '\"  ' + inputRequired + '>');\n\n        newInput.removeClass('has-value');\n\n        $(this).closest('.input-file-wrapper').hide();\n        $(this).closest('.e-wrapper')\n            .append(newInput);\n\n        newInput.filestyle({buttonBefore: true})\n    });\n\n    /**\n     * General file input\n     */\n    $('.growtype-form-wrapper .input-file-wrapper input[type=file]').change(function (e) {\n        let maxFileSize = $(this).attr('max-size');\n        let maxSizeErrorMessage = $(this).attr('max-size-error-message');\n        if (maxFileSize !== undefined) {\n            $(e.target.files).each(function (index, element) {\n                if (element.size > maxFileSize) {\n                    if (maxSizeErrorMessage.length > 0) {\n                        maxSizeErrorMessage = maxSizeErrorMessage.replace(':image_name', element.name).replace(':max_size', (maxFileSize / 1000000) + 'mb')\n                        alert(maxSizeErrorMessage)\n                    } else {\n                        alert(element.name + \" is too big! Max file size allowed - \" + (maxFileSize / 1000000) + 'mb')\n                    }\n                    e.target.value = \"\";\n                }\n            });\n        }\n\n        let selectedPlaceholderSingle = $(this).attr('data-selected-placeholder-single');\n        let selectedPlaceholderMultiple = $(this).attr('data-selected-placeholder-multiple');\n        let filesAmount = e.target.files.length;\n\n        $(this).closest('.input-file-wrapper')\n            .find('.form-label-placeholder')\n            .removeClass('is-active')\n            .text($(this).attr('data-placeholder'))\n\n        if (filesAmount > 0 && (selectedPlaceholderSingle.length > 0 || selectedPlaceholderMultiple.length > 0)) {\n\n            let selectedPlaceholder = selectedPlaceholderSingle.replace(':nr', filesAmount)\n\n            if (filesAmount > 1) {\n                selectedPlaceholder = selectedPlaceholderMultiple.replace(':nr', filesAmount)\n            }\n\n            $(this).closest('.input-file-wrapper')\n                .find('.form-label-placeholder')\n                .addClass('is-active')\n                .text(selectedPlaceholder)\n        }\n    });\n});\n\n/**\n * Growtype quiz check if image uploader has files\n */\ndocument.addEventListener('growtypeQuizValidateQuestion', function (event) {\n    $(event.detail.currentQuestion).find('.growtype-form-fields .b-wrapper').each(function (index, element) {\n        if ($(element).find('div[data-required]') && $(element).find('div[data-required]').attr('data-required') === 'true') {\n            if (!$(element).find('.image-uploader-inner').hasClass('has-files')) {\n                $(element).addClass('anim-wrong-selection');\n\n                setTimeout(function () {\n                    $(element).removeClass('anim-wrong-selection');\n                }, 500);\n\n                window.growtype_quiz_global.is_valid = false;\n            }\n        }\n    });\n})\n\n/**\n * Image uploaded setup\n */\nfunction setupImageUploader() {\n    /**\n     * Image uploader setup\n     */\n    let defaultGallerySupported = true;\n\n    try {\n        let dataTransfer = new DataTransfer();\n    } catch (err) {\n        defaultGallerySupported = false;\n    }\n\n    let imageUploaderInitial = $('.image-uploader-init');\n\n    if (imageUploaderInitial.length === 0) {\n        return;\n    }\n\n    imageUploaderInitial.each(function (index, element) {\n        let formInput = $(element);\n        let imageUploaderInitialName = formInput.attr('data-name');\n        imageUploaderInitialName = imageUploaderInitialName ? imageUploaderInitialName : formInput.closest('.b-wrapper').attr('data-name');\n        imageUploaderInitialName = imageUploaderInitialName.replace('[]', '');\n        let imageUploaderInitialExtension = formInput.attr('data-extensions') !== undefined ? formInput.attr('data-extensions').split(\",\") : '';\n        let imageUploaderInitialMaxSize = formInput.attr('data-max-size');\n        let imageUploaderInitialMaxFiles = formInput.attr('data-max-files');\n        let imageUploaderPreload = formInput.attr('data-preload');\n        let imageUploaderLabel = formInput.attr('data-label') !== undefined ? formInput.attr('data-label') : 'Drag & Drop files here or click to browse';\n        let imageCapture = formInput.attr('data-capture') !== undefined ? formInput.attr('data-capture') : '';\n        let mimes = formInput.attr('data-mimes') !== undefined ? formInput.attr('data-mimes') : '';\n\n        if (defaultGallerySupported) {\n            if (typeof $.fn.imageUploader !== 'undefined') {\n                formInput.addClass('image-uploader');\n\n                let imageUploaders = typeof (window.growtype_form_image_uploaders) !== 'undefined' && imageUploaderPreload ? window.growtype_form_image_uploaders : [];\n                let preloaded = [];\n\n                let uploaderSettings = {\n                    imagesInputName: imageUploaderInitialName,\n                    extensions: imageUploaderInitialExtension,\n                    maxSize: imageUploaderInitialMaxSize,\n                    maxFiles: imageUploaderInitialMaxFiles ? imageUploaderInitialMaxFiles : 1,\n                    label: imageUploaderLabel\n                };\n\n                if (Object.entries(imageUploaders).length > 0) {\n                    let imageUploaderContent = JSON.parse(imageUploaders['content']);\n\n                    if (imageUploaderContent[imageUploaderInitialName] && Object.entries(imageUploaderContent[imageUploaderInitialName]).length > 0) {\n                        preloaded = imageUploaderContent[imageUploaderInitialName];\n                    }\n\n                    uploaderSettings['preloaded'] = preloaded;\n                    uploaderSettings['preloadedInputName'] = imageUploaders['old_images_prefix'] + '_' + imageUploaderInitialName;\n                }\n\n                if (imageCapture) {\n                    uploaderSettings.capture = imageCapture;\n                }\n\n                if (mimes) {\n                    uploaderSettings.mimes = mimes;\n                }\n\n                formInput.imageUploader(uploaderSettings);\n\n                /**\n                 * Format label\n                 */\n                formInput.find('.upload-text span:first').html(formInput.find('.upload-text span:first').text())\n            }\n        } else {\n            $('<input multiple type=\"file\" class=\"upload-multifile with-preview\" className=\"multi\" name=\"' + imageUploaderInitialName + '[]\"/>').insertAfter(formInput);\n\n            formInput.MultiFile({\n                max: 10,\n                accept: imageUploaderInitialExtension.join(','),\n                max_size: imageUploaderInitialMaxSize,\n            });\n        }\n    });\n}\n","function repeater() {\n    /**\n     * @param $duplicateBtn\n     */\n    function cloneReapeaterForm($duplicateBtn) {\n        $duplicateBtn.click(function (e) {\n            e.preventDefault();\n\n            let initialRepeaterForm = $('.repeater-fields[data-form-nr=\"1\"]');\n            let repeaterForm = $(this).closest('.repeater-fields');\n            let repeaterFormClone = initialRepeaterForm.clone();\n            let formNr = repeaterForm.attr('data-form-nr');\n            let newFormNr = parseInt(formNr) + 1;\n\n            if (repeaterForm.closest('.b-wrapper').hasClass('repeater-fields-folded')) {\n                /**\n                 * Remove closest form group validation\n                 */\n                let blockName = repeaterForm.closest('.b-wrapper').attr('data-group');\n                $('.b-wrapper[data-group=\"' + blockName + '\"]')\n                    .find('.form-check-wrapper[aria-required=\"true\"]')\n                    .attr('aria-required', 'false')\n                    .find('input').prop('checked', false);\n\n                repeaterForm.closest('.b-wrapper').removeClass('repeater-fields-folded');\n                repeaterForm.find('.btn-remove').show();\n                repeaterForm.find('.btn-add').hide();\n                return false;\n            }\n\n            /**\n             * Hide duplicate btn in previous form\n             */\n            $(this).closest('.btn-wrapper').hide();\n\n            repeaterFormClone.hide();\n            repeaterFormClone.insertAfter(repeaterForm)\n            repeaterFormClone.find('.btn-remove').show();\n            repeaterFormClone.find('.btn-wrapper').show();\n            repeaterFormClone.find('.e-counter').text(newFormNr);\n            repeaterFormClone.attr('data-form-nr', newFormNr);\n\n            /**\n             * Reset cloned form\n             */\n            repeaterFormClone.find('.chosen-container').remove();\n            repeaterFormClone.find('label.error').remove();\n            repeaterFormClone.find('.error').removeClass('error');\n            repeaterFormClone.find('input').val('');\n            repeaterFormClone.find('select').val('');\n\n            /**\n             * Rename cloned form\n             */\n            renameClonedForm(initialRepeaterForm, repeaterFormClone, newFormNr);\n\n            /**\n             *\n             */\n            repeaterFormClone.find('select').chosen(window.selectArgs);\n\n            /**\n             * Show cloned form\n             */\n            repeaterFormClone.fadeIn();\n\n            /**\n             * Reinitiate method\n             */\n            cloneReapeaterForm(repeaterFormClone.find('a.btn-add'));\n            removeRepeaterForm(repeaterFormClone.find('.btn-remove'));\n        });\n    }\n\n    /**\n     *\n     * @param repeaterFormClone\n     * @param newFormNr\n     */\n    function renameClonedForm(initialRepeaterForm, repeaterFormClone, newFormNr) {\n        initialRepeaterForm.find('.e-wrapper').map(function (index, element) {\n            let groupName = $(element).attr('data-name');\n            if (typeof groupName !== 'undefined' && groupName.length > 0) {\n                let newName = '';\n                if (groupName.match(/\\[/g) !== null) {\n                    groupName = groupName.split(\"[\")\n                    newName = groupName[0] + '_' + newFormNr + '[' + groupName[1];\n                } else {\n                    newName = groupName + '_' + newFormNr;\n                }\n\n                let field = $(repeaterFormClone.find('div')[index + 1]);\n                field.attr('data-name', newName);\n                field.find('label').attr('for', newName)\n                field.find('.form-control')\n                    .attr('name', newName)\n                    .attr('id', newName)\n                field.find('select')\n                    .attr('name', newName)\n                    .attr('id', newName)\n            }\n        });\n    }\n\n    /**\n     *\n     */\n    function removeRepeaterForm(removeBtn) {\n        removeBtn.click(function () {\n            let repeaterForm = $(this).closest('.repeater-fields');\n\n            if (repeaterForm.attr('data-form-nr') === '1') {\n                /**\n                 * Add closest form group validation\n                 */\n                let blockName = repeaterForm.closest('.b-wrapper').attr('data-group');\n                $('.b-wrapper[data-group=\"' + blockName + '\"]').find('.form-check-wrapper[aria-required=\"false\"]').attr('aria-required', 'true');\n\n                repeaterForm.closest('.b-wrapper').addClass('repeater-fields-folded');\n                repeaterForm.find('.btn-add').fadeIn();\n                return false;\n            }\n\n            if (repeaterForm.find('.btn-wrapper:visible').length > 0) {\n                repeaterForm.fadeOut().promise().done(function () {\n                    repeaterForm.prev('.repeater-fields').find('.btn-wrapper').fadeIn();\n                    $(this).remove();\n                })\n            } else {\n                repeaterForm.fadeOut().promise().done(function () {\n                    $(this).remove();\n                    $('.repeater-fields').not('[data-form-nr=\"1\"]').map(function (index, element) {\n                        let formNr = index + 2;\n                        $(element).attr('data-form-nr', formNr)\n                            .find('.e-counter')\n                            .hide()\n                            .text(formNr)\n                            .fadeIn();\n                        renameClonedForm($('.repeater-fields[data-form-nr=\"1\"]'), $(element), formNr);\n                    });\n                });\n            }\n        });\n    }\n\n    cloneReapeaterForm($('.repeater-fields a.btn-add'));\n    removeRepeaterForm($('.btn-remove'));\n}\n\nexport {repeater};\n","function conditions() {\n\n    /**\n     * Collect all conditions from the form\n     * @type {*[]}\n     */\n    window.growtype_form.conditions = [];\n    $('.growtype-form .e-wrapper, .growtype-form .b-wrapper').each(function (index, element) {\n        if ($(element).attr('data-conditions') && $(element).attr('data-conditions').length > 0) {\n            let conditions = JSON.parse($(element).attr('data-conditions'));\n            let target = $(element).attr('data-name');\n\n            Object.entries(conditions).map(function (element, index) {\n                let condition = {\n                    'name': element[1]['name'],\n                    'condition': element[1]['condition'] ?? '',\n                    'value': element[1]['value'],\n                    'target': target,\n                    'label': element[1]['label'] ?? ''\n                };\n\n                window.growtype_form.conditions.push(condition)\n            })\n        }\n    });\n\n    if (typeof window.growtype_form.conditions === 'object') {\n        /**\n         * on form load\n         */\n        $('.form-wrapper').each(function (index, element) {\n            updateConditionalValues($(element))\n        })\n\n        /**\n         * On select\n         */\n        $('.growtype-form select').change(function () {\n            let form = $(this).closest('.form-wrapper');\n\n            updateConditionalValues(form)\n\n            /**\n             * Reset conditional checkboxes\n             */\n            if (form.find('input[type=\"checkbox\"]:checked:hidden').length > 0) {\n                form.find('input[type=\"checkbox\"]:checked:hidden').each(function (index, element) {\n                    $(element).prop('checked', false);\n                });\n\n                updateConditionalValues(form)\n            }\n        });\n\n        /**\n         * On check\n         */\n        $('.growtype-form input[type=\"checkbox\"]').change(function () {\n            let form = $(this).closest('.form-wrapper');\n\n            updateConditionalValues(form)\n        });\n    }\n\n    function updateConditionalValues(form) {\n        if (window.growtype_form.conditions.length > 0) {\n            form.find('[data-conditions]').each(function (index, element) {\n                if ($(element).attr('data-conditions').length > 0) {\n                    $(element).hide();\n                }\n            })\n\n            window.growtype_form.conditions.map(function (element, index) {\n                let selectedElement = $('[name=\"' + element['name'] + '\"]');\n                let componentValue = selectedElement.val() === null ? '' : selectedElement.val();\n\n                /**\n                 * Check if checkbox is checked\n                 */\n                if (selectedElement.attr('type') === 'checkbox' && selectedElement.is(':checked')) {\n                    componentValue = 'checked';\n                }\n\n                let target = form.find('.b-wrapper[data-name=\"' + element['target'] + '\"], .e-wrapper[data-name=\"' + element['target'] + '\"]');\n\n                if (componentValue === element['value']) {\n                    let isRequired = target.find('.form-control').attr('required') !== undefined ? true : false;\n                    let label = target.find('.form-label');\n                    let labelText = label.text();\n                    let labelTextInitial = target.attr('data-initial-label');\n\n                    if (!window.growtype_form.conditions[index]['initial_label'] && labelTextInitial !== undefined) {\n                        if (isRequired) {\n                            labelTextInitial = labelTextInitial.replace(\"*\", '<span class=\"required\" aria-required=\"true\">*</span>');\n                        }\n\n                        window.growtype_form.conditions[index]['initial_label'] = labelTextInitial;\n                    }\n\n                    if (element['condition'] === 'replace') {\n                        target.attr('data-initial-label', labelText);\n                        label.html(element['label'] + (isRequired ? '<span class=\"required\" aria-required=\"true\">*</span>' : ''));\n                    } else {\n                        if (window.growtype_form.conditions[index]['initial_label']) {\n                            label.html(window.growtype_form.conditions[index]['initial_label']);\n                        }\n                    }\n\n                    target.show();\n                }\n            })\n        }\n    }\n}\n\nexport {conditions};\n"],"names":["$","jQuery","ready","renameClonedForm","initialRepeaterForm","repeaterFormClone","newFormNr","find","map","index","element","groupName","attr","length","newName","match","split","field","removeRepeaterForm","removeBtn","click","repeaterForm","this","closest","blockName","addClass","fadeIn","fadeOut","promise","done","prev","remove","not","formNr","hide","text","cloneReapeaterForm","$duplicateBtn","e","preventDefault","clone","parseInt","hasClass","prop","removeClass","show","insertAfter","val","chosen","window","selectArgs","repeater","updateConditionalValues","form","growtype_form","conditions","each","selectedElement","componentValue","is","target","isRequired","undefined","label","labelText","labelTextInitial","replace","html","JSON","parse","Object","entries","_element$1$condition","_element$1$label","condition","push","_typeof","change","defaultGallerySupported","DataTransfer","err","imageUploaderInitial","formInput","imageUploaderInitialName","imageUploaderInitialExtension","imageUploaderInitialMaxSize","imageUploaderInitialMaxFiles","imageUploaderPreload","imageUploaderLabel","imageCapture","mimes","fn","imageUploader","imageUploaders","growtype_form_image_uploaders","preloaded","uploaderSettings","imagesInputName","extensions","maxSize","maxFiles","imageUploaderContent","capture","MultiFile","max","accept","join","max_size","setupImageUploader","options","dateFormat","date","date_format_iso","minDate","datepicker","timepicker","validateValue","$this","dateText","parsedValue","Date","isNaN","parseDate","hour","getHours","minute","getMinutes","startDateMinDate","setDate","getDate","toLocaleDateString","datetimepicker","language","defaultDate","numberOfMonths","onClose","inst","endDateMinDate","onSelectDate","onChangeDateTime","autoNumeric","unformatOnSubmit","digitGroupSeparator","currency","decimalCharacter","currencySymbol","currencySymbolPlacement","decimalPlacesOverride","showWarnings","emptyInputBehavior","minimumValue","inputType","inputId","inputClass","inputName","inputAccept","inputRequired","newInput","append","filestyle","buttonBefore","maxFileSize","maxSizeErrorMessage","files","size","name","alert","value","selectedPlaceholderSingle","selectedPlaceholderMultiple","filesAmount","selectedPlaceholder","document","addEventListener","event","detail","currentQuestion","setTimeout","growtype_quiz_global","is_valid"],"sourceRoot":""}