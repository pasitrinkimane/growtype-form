jQuery(document).ready((function(o){o(".growtype-form input[type='file']").on("change",(function(){var e=new FormData;e.append("action",growtypeProfileUpload.action),e.append("_wpnonce",growtypeProfileUpload.nonce);var r=this,n=o(this).attr("name")||"files";r.files&&r.files.length>0&&o.each(r.files,(function(o,r){n.endsWith("[]")?e.append(n,r):e.append(n+"[]",r)})),o.ajax({url:growtypeProfileUpload.ajaxUrl,type:"POST",data:e,processData:!1,contentType:!1,success:function(o){o.success?location.reload():alert(o.data.message)},error:function(){alert("Error uploading files. Please try again.")}})})),o(".growtype-form-remove-profile-image").on("click",(function(e){e.preventDefault(),e.stopPropagation(),confirm("Are you sure you want to remove your profile photo?")&&o.ajax({url:growtypeProfileUpload.ajaxUrl,type:"POST",data:{action:"growtype_form_remove_profile_picture",_wpnonce:growtypeProfileUpload.nonce},success:function(o){o.success?location.reload():alert("Error removing photo. Please try again.")},error:function(){alert("Error removing photo. Please try again.")}})}));var e=document.querySelector('.growtype-form input[name="phone"]');if(e){var r=window.intlTelInput(e,{initialCountry:growtypeProfileUpload.initialCountry,separateDialCode:!0});o(e).on("countrychange input",(function(){var e=r.getSelectedCountryData(),n=e.iso2,t=e.dialCode;n&&(o(this).closest(".growtype-form").find('input[name="phone_country_iso"]').val(n),o(this).closest(".growtype-form").find('input[name="phone_country_code"]').val(t),o.ajax({url:growtypeProfileUpload.ajaxUrl,type:"POST",data:{action:"growtype_form_profile_edit_form_data",phone_country_code:t,phone_country_iso:n,_wpnonce:growtypeProfileUpload.nonce},success:function(o){o.success||console.warn("Phone save failed:",o)}}))}))}}));
//# sourceMappingURL=growtype-form-profile-edit.js.map